{% schema %}
{
  "name": "Contact Hero",
  "settings": [
    {
      "type": "color_background",
      "id": "background_gradient",
      "label": "Background Gradient",
      "default": "linear-gradient(135deg, #D3A101 0%, #FDD252 100%)"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "How can we help?"
    },
    {
      "type": "textarea",
      "id": "subtext",
      "label": "Subtext",
      "default": "Let us know how we can help you! Email us, check out our FAQ's or contact us."
    },
    {
      "type": "image_picker",
      "id": "hero_image",
      "label": "Hero Image (Right)",
      "info": "Upload the Juice Machine SVG here"
    },
    {
      "type": "color",
      "id": "wave_color",
      "label": "Wave Color",
      "default": "#FFFFFF",
      "info": "Color of the bottom wave to match the section below"
    }
  ],
  "presets": [
    {
      "name": "Contact Hero"
    }
  ]
}
{% endschema %}

<div class="contact-hero-section">
  <div class="contact-hero-container">
    <div class="contact-hero-content">
      <h1 class="contact-hero-heading">{{ section.settings.heading }}</h1>
      <div class="contact-hero-subtext">{{ section.settings.subtext }}</div>
    </div>
    
    <div class="contact-hero-image-wrapper">
      {% if section.settings.hero_image != blank %}
        {{ section.settings.hero_image | image_url: width: 800 | image_tag: class: 'contact-hero-img', loading: 'eager' }}
      {% else %}
        <img src="{{ 'juicemachine.svg' | asset_url }}" class="contact-hero-img" alt="Juice Machine" loading="eager">
      {% endif %}
    </div>
  </div>

  <!-- Bottom Wave -->
  <div class="contact-hero-wave bottom-wave">
    <svg class="wave-svg desktop-wave" viewBox="0 0 1440 100" preserveAspectRatio="none">
      <path d="M0,95 C40,95 40,5 80,5 S120,95 160,95 S200,5 240,5 S280,95 320,95 S360,5 400,5 S440,95 480,95 S520,5 560,5 S600,95 640,95 S680,5 720,5 S760,95 800,95 S840,5 880,5 S920,95 960,95 S1000,5 1040,5 S1080,95 1120,95 S1160,5 1200,5 S1240,95 1280,95 S1320,5 1360,5 S1400,95 1440,95 L1440,100 L0,100 Z" fill="{{ section.settings.wave_color }}"></path>
    </svg>
    <svg class="wave-svg mobile-wave" viewBox="0 0 400 60" preserveAspectRatio="none">
      <path d="M0,55 C25,55 25,5 50,5 S75,55 100,55 S125,5 150,5 S175,55 200,55 S225,5 250,5 S275,55 300,55 S325,5 350,5 S375,55 400,55 L400,60 L0,60 Z" fill="{{ section.settings.wave_color }}"></path>
    </svg>
  </div>
</div>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Plus+Jakarta+Sans:wght@400;500&display=swap');

  .contact-hero-section {
    background-color: #D3A101; /* Fallback */
    background: {{ section.settings.background_gradient }};
    position: relative;
    padding: 380px 20px 80px; /* Increased top padding to push content down */
    overflow: hidden;
    min-height: 750px; /* Increased height */
    align-items: center;
    z-index: 1;
  }

  /* Noise Texture Overlay */
  .contact-hero-section::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url("{{ 'noise-texture.svg' | asset_url }}");
    background-repeat: repeat;
    background-size: 100px 100px; /* Adjust scale of noise */
    opacity: 0.5; /* Increased opacity for visibility */
    pointer-events: none;
    z-index: -1;
    mix-blend-mode: soft-light;
  }

  .contact-hero-container {
    max-width: 1200px;
    margin: 0 auto;
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    position: relative;
    z-index: 2;
  }

  .contact-hero-content {
    flex: 1;
    max-width: 50%;
    color: #fff;
    max-width: 700px;
    padding-right: 40px;
    margin-top: -90px; /* Move text content up */
  }

  .contact-hero-heading {
    font-family: 'Playfair Display', serif;
    font-size: 72px;
    font-weight: 600;
    line-height: 1.1;
    margin-bottom: 24px;
    color: #fff;
  }

  .contact-hero-subtext {
    font-family: 'Plus Jakarta Sans', sans-serif;
    font-size: 25px;
    line-height: 1.5;
    color: rgba(255, 255, 255, 0.9);
    max-width: 450px;
  }

  .contact-hero-image-wrapper {
    position: absolute;
    right: 0;
    top: 60%; /* Moved down slightly */
    transform: translateY(-50%);
    width: 50%;
    display: flex;
    justify-content: flex-end;
    align-items: center;
    pointer-events: none; /* Allow clicks to pass through to content */
  }

  .contact-hero-img {
    max-width: 100%;
    height: auto;
    max-height: 620px;
    filter: drop-shadow(25px 15px 60px black);
    pointer-events: auto; /* Re-enable clicks on the image itself */
  }

  .contact-hero-wave {
    position: absolute;
    bottom: -1px; 
    left: 0;
    width: 100%;
    height: 35px; /* Explicit height */
    line-height: 0;
    z-index: 3;
    pointer-events: none;
  }

  .wave-svg {
    width: 100%;
    height: 35px !important; /* Force smaller height */
    display: block;
  }
  
  .wave-svg.mobile-wave { display: none; }
  .wave-svg.desktop-wave { display: block; }

  @media (max-width: 900px) {
    .contact-hero-section {
      padding: 160px 20px 80px; /* Increased top padding for mobile header */
      min-height: 450px; /* Increased mobile height */
    }

    .contact-hero-container {
      flex-direction: column;
      text-align: center;
      gap: 40px;
    }

    .contact-hero-content {
      max-width: 100%;
      padding-right: 0;
    }

    .contact-hero-heading {
      font-size: 33px; /* Reduced from 42px */
      margin-bottom: 12px; /* Reduced gap */
    }

    .contact-hero-subtext {
      margin: 0 auto;
      font-size: 16px;
    }

    .contact-hero-image-wrapper {
      justify-content: center; /* Align to center */
      width: 100%;
    }

    .contact-hero-img {
      max-height: 320px; /* Reduced size on mobile */
      margin-top: 380px; /* Push image down more */
    }
    
    .wave-svg.desktop-wave { display: none; }
    .wave-svg.mobile-wave { 
      display: block;
      height: 25px !important; /* Reduced height on mobile */
    }
    
    .contact-hero-wave {
      height: 25px;
    }
  }
</style>
